(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{698:function(t,e,r){"use strict";r.r(e);var s=r(48),n=Object(s.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"architecture"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#architecture","aria-hidden":"true"}},[t._v("#")]),t._v(" Architecture")]),t._v(" "),r("p",[t._v("(TBD)")]),t._v(" "),r("h2",{attrs:{id:"entry-point"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#entry-point","aria-hidden":"true"}},[t._v("#")]),t._v(" Entry Point")]),t._v(" "),r("p",[t._v("When GROWI detects"),r("sup",{staticClass:"footnote-ref"},[r("a",{attrs:{href:"#fn1",id:"fnref1"}},[t._v("[1]")])]),t._v(" plug-in packages, it parses "),r("RouterLink",{attrs:{to:"/en/dev/plugin/metadata.html"}},[t._v("metadata")]),t._v(" of each plugins, and then collects and stores methods that serve as the entry point for client side and server side.")],1),t._v(" "),r("h3",{attrs:{id:"calling-on-the-client-side"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#calling-on-the-client-side","aria-hidden":"true"}},[t._v("#")]),t._v(" Calling on The Client Side")]),t._v(" "),r("ul",[r("li",[t._v("When the browser initializes the GROWI client, it calls entry point methods of plugins.\n"),r("ul",[r("li",[t._v("At this time, one argument is passed.\n"),r("ol",[r("li",[r("a",{attrs:{href:"https://github.com/weseek/growi/blob/master/src/client/js/services/AppContainer.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("AppContainer"),r("OutboundLink")],1),t._v(" instance that comes from "),r("a",{attrs:{href:"https://github.com/jamiebuilds/unstated",target:"_blank",rel:"noopener noreferrer"}},[t._v("unstated"),r("OutboundLink")],1),t._v(" Container.")])])])])])]),t._v(" "),r("h3",{attrs:{id:"calling-on-the-server-side"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#calling-on-the-server-side","aria-hidden":"true"}},[t._v("#")]),t._v(" Calling on The Server Side")]),t._v(" "),r("ul",[r("li",[t._v("When the server starts, it calls entry point methods of plugins.\n"),r("ul",[r("li",[t._v("At this time, two arguments are passed.\n"),r("ol",[r("li",[r("a",{attrs:{href:"https://github.com/weseek/growi/blob/master/src/server/crowi/index.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("Crowi"),r("OutboundLink")],1),t._v(" instance.")]),t._v(" "),r("li",[r("a",{attrs:{href:"https://expressjs.com/ja/4x/api.html#app",target:"_blank",rel:"noopener noreferrer"}},[t._v("Application"),r("OutboundLink")],1),t._v(" instance that comes from "),r("a",{attrs:{href:"https://expressjs.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("Express"),r("OutboundLink")],1),t._v(".")])])])])])]),t._v(" "),r("hr",{staticClass:"footnotes-sep"}),t._v(" "),r("section",{staticClass:"footnotes"},[r("ol",{staticClass:"footnotes-list"},[r("li",{staticClass:"footnote-item",attrs:{id:"fn1"}},[r("p",[t._v("The detection timing for the client side is when the client is built by webpack and for the server side is when the server starts. "),r("a",{staticClass:"footnote-backref",attrs:{href:"#fnref1"}},[t._v("↩︎")])])])])])])},[],!1,null,null,null);e.default=n.exports}}]);