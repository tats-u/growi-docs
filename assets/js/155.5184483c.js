(window.webpackJsonp=window.webpackJsonp||[]).push([[155],{755:function(a,t,e){"use strict";e.r(t);var o=e(48),r=Object(o.a)({},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"mongodb-のアップグレード"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-のアップグレード","aria-hidden":"true"}},[a._v("#")]),a._v(" MongoDB のアップグレード")]),a._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#mongodb-v3-4-から-v3-6-へのアップグレード"}},[a._v("MongoDB v3.4 から v3.6 へのアップグレード")])]),e("li",[e("a",{attrs:{href:"#mongodb-v3-6-から-v4-0-へのアップグレード"}},[a._v("MongoDB v3.6 から v4.0 へのアップグレード")])]),e("li",[e("a",{attrs:{href:"#mongodb-v4-0-から-v4-2-へのアップグレード"}},[a._v("MongoDB v4.0 から v4.2 へのアップグレード")])]),e("li",[e("a",{attrs:{href:"#mongodb-v4-2-から-v4-4-へのアップグレード"}},[a._v("MongoDB v4.2 から v4.4 へのアップグレード")])]),e("li",[e("a",{attrs:{href:"#付録a-docker-ユーザーのためのアップグレード手順例"}},[a._v("付録A: docker ユーザーのためのアップグレード手順例")])]),e("li",[e("a",{attrs:{href:"#付録b-docker-compose-ユーザーのためのアップグレード手順例"}},[a._v("付録B: docker-compose ユーザーのためのアップグレード手順例")])])])]),e("p"),a._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),e("p",[a._v("この項目の内容は、以下の GROWI バーションアップ時に必要になることがあります。")]),a._v(" "),e("ul",[e("li",[e("RouterLink",{attrs:{to:"/ja/admin-guide/upgrading/42x.html"}},[a._v("v4.2.x へのアップグレード")])],1),a._v(" "),e("li",[e("RouterLink",{attrs:{to:"/ja/admin-guide/upgrading/34x.html"}},[a._v("v3.4.x へのアップグレード")])],1)])]),a._v(" "),e("p",[a._v("GROWI のバージョン v4.1.x から v4.2.x にアップグレードする場合は、以下のセクションを上から順に一つずつ操作する必要があります。")]),a._v(" "),e("h2",{attrs:{id:"mongodb-v3-4-から-v3-6-へのアップグレード"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-v3-4-から-v3-6-へのアップグレード","aria-hidden":"true"}},[a._v("#")]),a._v(" MongoDB v3.4 から v3.6 へのアップグレード")]),a._v(" "),e("p",[a._v("v3.4 から v3.6 へのアップグレードは"),e("a",{attrs:{href:"https://docs.mongodb.com/manual/release-notes/3.6-upgrade-standalone/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("こちら"),e("OutboundLink")],1),a._v("を参照してください。")]),a._v(" "),e("h2",{attrs:{id:"mongodb-v3-6-から-v4-0-へのアップグレード"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-v3-6-から-v4-0-へのアップグレード","aria-hidden":"true"}},[a._v("#")]),a._v(" MongoDB v3.6 から v4.0 へのアップグレード")]),a._v(" "),e("p",[a._v("v3.6 から v4.0 へのアップグレードは"),e("a",{attrs:{href:"https://docs.mongodb.com/manual/release-notes/4.0-upgrade-standalone/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("こちら"),e("OutboundLink")],1),a._v("を参照してください。")]),a._v(" "),e("h2",{attrs:{id:"mongodb-v4-0-から-v4-2-へのアップグレード"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-v4-0-から-v4-2-へのアップグレード","aria-hidden":"true"}},[a._v("#")]),a._v(" MongoDB v4.0 から v4.2 へのアップグレード")]),a._v(" "),e("p",[a._v("v4.0 から v4.2 へのアップグレードは"),e("a",{attrs:{href:"https://docs.mongodb.com/manual/release-notes/4.2-upgrade-standalone/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("こちら"),e("OutboundLink")],1),a._v("を参照してください。")]),a._v(" "),e("h2",{attrs:{id:"mongodb-v4-2-から-v4-4-へのアップグレード"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-v4-2-から-v4-4-へのアップグレード","aria-hidden":"true"}},[a._v("#")]),a._v(" MongoDB v4.2 から v4.4 へのアップグレード")]),a._v(" "),e("p",[a._v("v4.2 から v4.4 へのアップグレードは"),e("a",{attrs:{href:"https://docs.mongodb.com/manual/release-notes/4.4-upgrade-standalone/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("こちら"),e("OutboundLink")],1),a._v("を参照してください。")]),a._v(" "),e("h2",{attrs:{id:"付録a-docker-ユーザーのためのアップグレード手順例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#付録a-docker-ユーザーのためのアップグレード手順例","aria-hidden":"true"}},[a._v("#")]),a._v(" 付録A: docker ユーザーのためのアップグレード手順例")]),a._v(" "),e("p",[a._v("以下は MongoDB を v4.2 から v4.4 にアップグレードする場合の例です。"),e("br"),a._v("\n実際の MongoDB コンテナ名を "),e("code",[a._v("MONGO_CONTAINER_NAME")]),a._v(" に設定してください。")]),a._v(" "),e("ol",[e("li",[e("p",[a._v("MongoDB v4.2 起動中に以下を実行")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("export")]),a._v(" MONGO_VERSION"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("4.2\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("export")]),a._v(" MONGO_CONTAINER_NAME"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("mymongodb\ndocker "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("exec")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$MONGO_CONTAINER_NAME")]),a._v(" mongo --eval "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'db.adminCommand( { setFeatureCompatibilityVersion: \"'")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$MONGO_VERSION")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'\" } )'")]),a._v("\n")])])])]),a._v(" "),e("li",[e("p",[a._v("MongoDB v4.2 を停止")])]),a._v(" "),e("li",[e("p",[a._v("MongoDB v4.4 を起動")])])]),a._v(" "),e("h2",{attrs:{id:"付録b-docker-compose-ユーザーのためのアップグレード手順例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#付録b-docker-compose-ユーザーのためのアップグレード手順例","aria-hidden":"true"}},[a._v("#")]),a._v(" 付録B: docker-compose ユーザーのためのアップグレード手順例")]),a._v(" "),e("p",[a._v("以下は MongoDB を v4.2 から v4.4 にアップグレードする場合の例です。"),e("br"),a._v("\n実際の MongoDB サービス名を "),e("code",[a._v("MONGO_CONTAINER_NAME")]),a._v(" に設定してください。")]),a._v(" "),e("ol",[e("li",[e("p",[a._v("MongoDB v4.2 起動中に以下を実行")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("export")]),a._v(" MONGO_VERSION"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("4.2\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("export")]),a._v(" MONGO_SERVICE_NAME"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("mymongodb\ndocker-compose "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("exec")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$MONGO_SERVICE_NAME")]),a._v(" mongo --eval "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'db.adminCommand( { setFeatureCompatibilityVersion: \"'")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$MONGO_VERSION")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'\" } )'")]),a._v("\n")])])])]),a._v(" "),e("li",[e("p",[a._v("MongoDB v4.2 を停止")])]),a._v(" "),e("li",[e("p",[a._v("yml 内の MongoDB の指定バージョンを変更")])]),a._v(" "),e("li",[e("p",[a._v("MongoDB v4.4 を起動")])])])])},[],!1,null,null,null);t.default=r.exports}}]);